# Health check â€” single-step workflow for system state
name: health-check
version: "1"
description: "Check disk, memory, and process state"
timeout: "1m"

steps:
  check:
    description: "Check system resource status"
    worker: CUSTOM
    instructions: |
      echo "=== Health Check $(date) ==="
      echo ""
      echo "--- Disk Usage ---"
      df -h / | tail -1
      echo ""
      echo "--- Memory ---"
      free -h 2>/dev/null || vm_stat 2>/dev/null || echo "N/A"
      echo ""
      echo "--- Load Average ---"
      uptime
      echo ""
      echo "Health check complete."
    capabilities: [RUN_COMMANDS]
    timeout: "30s"
    outputs:
      - name: health-report
        path: "health.txt"
